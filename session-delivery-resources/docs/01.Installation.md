# STEP 01 — Prepare your environment

> Note: This document is intentionally concise. For full step-by-step run instructions, secrets, run options, working modes, and smoke-tests see `03.HowToRunDemoLocally.md` (see `./03.HowToRunDemoLocally.md`).

The original content remains below for historical reference.

## Summary

This document provides a concise installation and architecture overview for the `src/BRK445-Zava-Aspire.slnx` solution. It covers required tooling, a short description of the solution architecture, minimal local run instructions, and the key configuration points needed to run the demo.

---

## Prerequisites

- .NET SDK 10.x (verify with `dotnet --info` or `dotnet --list-sdks`) ([Download .NET](https://dotnet.microsoft.com/en-us/download))
- Visual Studio 2022 (recommended 17.14.13+) or Visual Studio Code with C#/.NET extensions
- Docker Desktop (required only for containerized runs)
- Azure subscription (required only if you plan to deploy to Azure or use Microsoft Foundry)
- Azure CLI (`az`) and optionally Azure Developer CLI (`azd`) if you plan to use `azure.yaml`/`azd` for provisioning
- Git

Notes:

- The solution is cross-platform — it runs on Windows, macOS, and Linux.

---

## Architecture (aspiredemo) — brief

- ZavaAppHost: the application host / orchestrator that composes local microservices and binds Azure resources when publishing.
- Microservices (examples):
  - `Products` — product catalog (with SQL Server back end)
  - `Store` — demo front-end that aggregates other services
  - `AnalyzePhotoService`, `CustomerInformationService`, `InventoryService`, `LocationService`, `MatchmakingService`,  `NavigationService`, `ProductSearchService`, `ToolReasoningService`
  - `SingleAgentDemo` and `MultiAgentDemo` (demo scenarios)
- Shared layers: `Shared`, `DataEntities`, `SearchEntities`, `VectorEntities`, `CartEntities`
- Agents: Agent definitions and configurations are managed in Microsoft Foundry. Services call agents by ID; runtime configuration uses `microsoft foundry project`/`ai foundry project` endpoints.
- Infra: `./infra` contains a console application that will automatically deploy the agents once the Microsoft Foundry Hub is created, and the base models are deployed.

See `aspiredemo/ZavaAppHost/Program.cs` for the service composition and the configuration keys consumed at runtime.

---

## Run options (short summary)

The demo supports several developer working modes. This short summary mirrors the options documented in `03.HowToRunDemoLocally.md` — consult that file for full details, examples, and how to switch modes.

- DirectCall (`directcall`) — UI performs direct HTTP calls to backend services (no AI orchestration).
- Llm (`llm`) — direct calls to an LLM client for model-driven behaviors.
- MafFoundry (`maf_foundry`) — Microsoft Foundry-hosted agents (default working mode).
- MafAIFoundry (`maf_ai_foundry`) — variant targeting Microsoft AI Foundry-hosted agents.
- MafLocal (`maf_local`) — local agents using a locally configured model (e.g. gpt-5-mini).

You can change the working mode from the Store frontend Settings page; selections are saved to browser `localStorage` and take effect immediately.

## Necessary Cloud Resources needed for local run

Before running the demo locally you must provision a small set of cloud resources one time only; see the detailed guide here: [02 — Needed Cloud Resources](./02.NeededCloudResources.md). These resources (Microsoft Foundry project, model deployments, agent deployments, and any required search/index or storage connections) are required for the agents and demo services to work when run locally.

## Running (quick)

Recommended developer flow: use the Aspire CLI from the `src` folder to build and start the dev-time orchestration. This document keeps the instructions short — run:

```bash
# from the repository root
cd src

# start the AppHost and local orchestration (preferred)
aspire run
```

For full build commands, alternative launch methods (Visual Studio / VS Code), and troubleshooting see `03.HowToRunDemoLocally.md`.